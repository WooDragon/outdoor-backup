# OpenWrt SD Card Backup System Configuration
#
# This file contains global settings for the backup system.
# Per-SD card settings are stored on each SD card in FieldBackup.conf

# === Storage Settings ===

# Root directory for all backups
# This should be on your SSD or fast storage
BACKUP_ROOT="/mnt/ssd/SDMirrors"

# Temporary mount point for SD cards
MOUNT_POINT="/mnt/sdcard"

# === Performance Settings ===

# Maximum concurrent backup operations
# Set to 1 for safety, increase if CPU/storage can handle it
MAX_CONCURRENT=1

# rsync bandwidth limit in KB/s (0 = unlimited)
BANDWIDTH_LIMIT=0

# rsync compression (yes/no)
# Enable for slow storage, disable for fast SSD
USE_COMPRESSION=no

# === Safety Settings ===

# Minimum free space required on target (MB)
MIN_FREE_SPACE=1024

# Maximum backup retries on failure
MAX_RETRIES=3

# Retry delay in seconds
RETRY_DELAY=10

# === Logging Settings ===

# Enable debug logging (0=off, 1=on)
DEBUG=0

# Log rotation size in KB
LOG_MAX_SIZE=10240

# Number of old logs to keep
LOG_ROTATE_COUNT=10

# === LED Settings ===
# Adjust these paths for your specific hardware
# Common R5S paths:
#   - /sys/class/leds/green:lan
#   - /sys/class/leds/red:sys
#   - /sys/class/leds/blue:wan

# Green LED for normal operations
LED_GREEN="/sys/class/leds/green:lan"

# Red LED for errors
LED_RED="/sys/class/leds/red:sys"

# LED blink rates (milliseconds)
LED_FAST_BLINK=100
LED_SLOW_BLINK=500

# === File Filters ===
# Files/directories to exclude from backup

EXCLUDE_PATTERNS="
.Trash*
.Spotlight*
.fseventsd
System Volume Information
\$RECYCLE.BIN
.DS_Store
Thumbs.db
*.tmp
*.TMP
~*
"

# === Advanced Settings ===

# rsync extra options
# Add custom rsync flags here
RSYNC_EXTRA_OPTS=""

# Pre-backup hook script (optional)
# Run custom commands before backup starts
PRE_BACKUP_HOOK=""

# Post-backup hook script (optional)
# Run custom commands after backup completes
POST_BACKUP_HOOK=""
